<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interaktywne Zaproszenie</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 30px;
    background-color: #fff8e7;
    transition: background-color 0.5s;
    overflow-x: hidden;
  }
  h1, h2 { font-size: 2em; margin-bottom: 20px; }
  p { font-size: 1.2em; }
  img { max-width: 80%; max-height: 50vh; border-radius: 10px; margin-bottom: 20px; }
  button { font-size: 1.2em; padding: 12px 25px; margin: 10px; cursor: pointer; border: none; border-radius: 8px; }
  .emoji { position: absolute; font-size: 2em; animation: float 3s ease-in-out infinite; }
  @keyframes float { 0% { transform: translateY(0); opacity: 1; } 50% { transform: translateY(-50px); opacity: 0.7; } 100% { transform: translateY(0); opacity: 1; } }
  #result { position: relative; width: 100%; height: 60vh; }
  input[type="text"] { font-size: 1.2em; padding: 8px; margin-top: 15px; }
  #app { display: none; } /* ukrywamy quiz do czasu startu muzyki */
</style>
</head>
<body>

<!-- Audio -->
<audio id="bgMusic" src="muzyka.mp3"></audio>

<!-- Ekran startowy -->
<div id="startScreen">
  <h1>Zanim zaczniemy, naciÅ›nij przycisk</h1>
  <button onclick="startMusic()">ğŸ¶ğŸ¶ğŸ¶</button>
  <p>Kiedy juÅ¼ to zrobisz</p>
  <button onclick="startQuiz()">Przejdz dalej</button>
</div>

<!-- Quiz -->
<div id="app">
  <h1>Czy myÅ›laÅ‚aÅ› kiedyÅ› o stworzeniu wÅ‚asnego naczynia z gliny?</h1>
  <img src="https://zdrowasowa.pl/wp-content/uploads/2022/09/naczynia-gliniane.webp" alt="Naczynia gliniane">
  <div>
    <button onclick="nextStep('step1','no')">Nie</button>
    <button onclick="nextStep('step1','yes')">Tak</button>
  </div>
</div>

<div id="result"></div>

<script>
let app = document.getElementById('app');
let result = document.getElementById('result');
let music = document.getElementById('bgMusic');

// --- Funkcje muzyki ---
function startMusic() {
  music.play();
}

function startQuiz() {
  document.getElementById('startScreen').style.display = 'none';
  app.style.display = 'block';
}

// --- Funkcja Discord ---
function sendToDiscord(message){
  fetch('https://discord.com/api/webhooks/1427755937191694357/ryjrC7j86B3JNto_TCWkW9E4042XGCQg5zwiBiT6ZjjcHfnDN18b1HCVABXhUnyoPn2q', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ content: message })
  });
}

// --- Quiz ---
function nextStep(step, choice){
  result.innerHTML = '';
  switch(step){
    case 'step1':
      sendToDiscord("Step1: " + choice);
      if(choice === 'no'){
        app.innerHTML = `
          <img src="https://assets.puzzlefactory.com/puzzle/247/640/original.jpg" alt="Smutny pies">
          <h2 style="color:#654321;">ZastanÃ³w siÄ™ nad tym jeszcze raz ğŸ˜¢</h2>
          <button onclick="location.reload()">PowrÃ³t na start</button>
        `;
        addEmojis(['ğŸ˜¢','ğŸ˜Ÿ','ğŸ˜¿','ğŸ’”']);
      } else {
        app.innerHTML = `
          <h1>Czy uwaÅ¼asz, Å¼e to fajny sposÃ³b na spÄ™dzenie wolnego czasu?</h1>
          <img src="https://t3.ftcdn.net/jpg/10/13/19/30/360_F_1013193070_klcvbP6xlx099WgZG0yBhBgOBunZ3GgO.jpg" alt="SpÄ™dzenie wolnego czasu">
          <div>
            <button onclick="nextStep('step2','no')">Nie</button>
            <button onclick="nextStep('step2','yes')">Tak</button>
          </div>
        `;
      }
      break;
    case 'step2':
      sendToDiscord("Step2: " + choice);
      if(choice === 'no'){
        app.innerHTML = `
          <img src="https://assets.puzzlefactory.com/puzzle/247/640/original.jpg" alt="Smutny pies">
        `;
        addEmojis(['ğŸ˜¢','ğŸ˜Ÿ','ğŸ˜¿','ğŸ’”']);
      } else {
        app.innerHTML = `
          <h1>Co chciaÅ‚abyÅ› stworzyÄ‡?</h1>
          <img src="https://thumbs.dreamstime.com/b/ludzie-tworzÄ…cy-naczynia-z-ceramiki-ziemnej-starsi-mÄ™Å¼czyÅºni-robiÄ…cy-na-kole-kobietami-dajÄ…cymi-mu-kawaÅ‚ek-gliny-ktÃ³rÄ…-237657311.jpg" alt="Tworzenie ceramiki">
          <div>
            <button onclick="nextStep('step3','talerzyk')">Talerzyk</button>
            <button onclick="nextStep('step3','swiecznik')">Åšwiecznik</button>
            <button onclick="nextStep('step3','wazon')">Wazon</button>
          </div>
        `;
      }
      break;
    case 'step3':
      sendToDiscord("Step3: " + choice);
      app.innerHTML = `
        <h2>MaÅ‚y test na poczÄ…tek ğŸ˜</h2>
        <p>Twoja odpowiedÅº na hasÅ‚o pokaÅ¼e, czy jesteÅ› gotowa na kolejny krok</p>
        <p>Jak nazywa siÄ™ herbaciarnia, w ktÃ³rej byliÅ›my na pierwszym spotkaniu (bez polskich znakÃ³w i spacji)?</p>
        <input type="text" id="password" placeholder="Wpisz hasÅ‚o">
        <button onclick="checkPassword()">SprawdÅº</button>
      `;
      break;
    case 'step4':
      sendToDiscord("Poprawne hasÅ‚o!");
      app.innerHTML = `
        <h1>Brawo i cieszÄ™ siÄ™, Å¼e dotarÅ‚aÅ› do tego momentu!</h1>
        <img src="https://i1.memy.pl/obrazki/f57327570_brawo.jpg" alt="Brawo">
        <div>
          <button onclick="nextStep('step5')">To teraz przejdÅºmy do konkretÃ³w!</button>
        </div>
      `;
      break;
    case 'step5':
      app.innerHTML = `
        <h1>CzeÅ›Ä‡ Beti! ğŸ«¶</h1>
        <p>ChciaÅ‚bym CiÄ™ zaprosiÄ‡ na wyjÄ…tkowy wieczÃ³r lepienia z gliny. ğŸ¨âœ¨</p>
        <p>Wszystko, co bÄ™dzie potrzebne, juÅ¼ przygotowaÅ‚em. Dodatkowo gwarantujÄ™ dobrÄ… muzykÄ™ i Å›wietnÄ… atmosferÄ™. ğŸ¶âœ¨</p>
        <p>Kilka rzeczy do zapamiÄ™tania:</p>
        <ul style="list-style:none; padding-left:0;">
          <li>Data: Zaproszenie zaczyna obowiÄ…zywaÄ‡ po naszym 4. spotkaniu (dokÅ‚adny termin podam wczeÅ›niej)</li>
          <li>Miejsce: do tego momentu mÃ³j adres powinnaÅ› juÅ¼ znaÄ‡</li>
          <li>Ubranie luÅºne, ktÃ³re moÅ¼e siÄ™ pobrudziÄ‡</li>
        </ul>
        <h2>Czy przyjmujesz moje zaproszenie?</h2>
        <div>
          <button onclick="nextStep('invite','yes')">TAK</button>
          <button onclick="nextStep('invite','no')">NIE</button>
        </div>
      `;
      break;
    case 'invite':
      sendToDiscord("Zaproszenie: " + choice);
      if(choice === 'no'){
        app.innerHTML = `<img src="https://assets.puzzlefactory.com/puzzle/247/640/original.jpg" alt="Smutny pies">`;
        addEmojis(['ğŸ˜¢','ğŸ˜Ÿ','ğŸ˜¿','ğŸ’”']);
      } else {
        app.innerHTML = `<img src="https://d-pt.ppstatic.pl/kadry/k/r/1/90/c1/55c557c7119ac_o,size,445x270,q,71,h,c33c14.jpg" alt="SzczÄ™Å›liwy pies">`;
        addEmojis(['â˜ºï¸','ğŸ¥°','ğŸ˜»','ğŸ’–']);
      }
      break;
  }
}

// --- HasÅ‚o ---
function checkPassword(){
  const pw = document.getElementById('password').value.toLowerCase().replace(/\s/g,'');
  if(pw === 'czasnaherbate'){
    nextStep('step4');
  } else {
    alert("Niepoprawne hasÅ‚o, sprÃ³buj ponownie!");
  }
}

// --- Emotki ---
function addEmojis(list){
  for(let i=0; i<7; i++){
    const emoji = document.createElement('div');
    emoji.className = 'emoji';
    emoji.style.left = Math.random() * 90 + 'vw';
    emoji.style.top = Math.random() * 70 + 'vh';
    emoji.textContent = list[Math.floor(Math.random() * list.length)];
    result.appendChild(emoji);
  }
}
</script>

</body>
</html>
